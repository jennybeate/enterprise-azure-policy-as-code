{
  "exemptions": {
    "replace": {},
    "numberOfOrphans": 0,
    "numberOfChanges": 0,
    "numberUnchanged": 0,
    "delete": {},
    "update": {},
    "new": {}
  },
  "assignments": {
    "replace": {},
    "numberOfChanges": 0,
    "numberUnchanged": 12,
    "delete": {},
    "update": {},
    "new": {}
  },
  "pacOwnerId": "11111111-2222-3333-4444-555555555555",
  "createdOn": "2023-08-29 10:20:08Z",
  "policySetDefinitions": {
    "replace": {},
    "numberOfChanges": 0,
    "numberUnchanged": 2,
    "delete": {},
    "update": {},
    "new": {}
  },
  "policyDefinitions": {
    "replace": {},
    "numberOfChanges": 1,
    "numberUnchanged": 5,
    "delete": {},
    "update": {
      "/providers/Microsoft.Management/managementGroups/test/providers/Microsoft.Authorization/policyDefinitions/9b749cc6-f27e-4416-a661-c237976b5c9b": {
        "policyRule": {
          "if": {
            "allOf": [
              {
                "count": {
                  "value": "[parameters('excludedRG')]",
                  "name": "excludedRG",
                  "where": {
                    "value": "[resourceGroup().name]",
                    "like": "[current('excludedRG')]"
                  }
                },
                "equals": 0
              },
              {
                "field": "type",
                "equals": "Microsoft.Resources/subscriptions/resourceGroups"
              },
              {
                "field": "tags['deleteDate']",
                "exists": "false"
              }
            ]
          },
          "then": {
            "effect": "[parameters('effect')]",
            "details": [
              {
                "field": "tags['deleteDate']",
                "value": "[addDays(utcNow(), 90)]"
              }
            ]
          }
        },
        "id": "/providers/Microsoft.Management/managementGroups/test/providers/Microsoft.Authorization/policyDefinitions/9b749cc6-f27e-4416-a661-c237976b5c9b",
        "metadata": {
          "category": "Sandbox",
          "version": "1.0.0",
          "pacOwnerId": "11111111-2222-3333-4444-555555555555"
        },
        "displayName": "Append deleteDate to resource group",
        "mode": "All",
        "scopeId": "/providers/Microsoft.Management/managementGroups/test",
        "description": "The policy will tag resource groups that are being deployed or updated with date time in utc format using append action, if it is missing. Does not modify other tags and is very simple: when used in an environment where no resources exist prior, it will ensure that all resource groups have the createdDate tag value. Therefore the value will not be updated when a resource group is updated, as the exists condition will be true.",
        "name": "9b749cc6-f27e-4416-a661-c237976b5c9b",
        "parameters": {
          "effect": {
            "metadata": {
              "description": "'Audit', 'Deny', or 'Disabled', 'Append'",
              "displayName": "Effect"
            },
            "allowedValues": [
              "Audit",
              "Deny",
              "Disabled",
              "Append"
            ],
            "defaultValue": "Append",
            "type": "string"
          },
          "excludedRG": {
            "type": "Array",
            "metadata": {
              "displayName": "Excluded Resource Groups",
              "description": "This array contains all excluded RGs from this policy"
            },
            "defaultValue": []
          }
        }
      }
    },
    "new": {}
  }
}
